# 分布式和微服务

## 微服务架构原理

面向SOA理念，更小粒度的去拆分服务，将特定的功能拆分到各个服务中，降低整个系统之间的耦合度，增加代码的复用性，不同的服务之间可以相互调用，不像之前的一整个系统高耦合，一旦有其他的系统需要之前系统中的某个功能，不能很好的直接复用之前的功能，而需要将特定功能的那部分内容再复制到其他系统中去。

## 注解中心原理

当服务启动后，向注册中心进行注册的流程，注册中心收到注册请求就会将注册信息进行各个服务器的信息同步。

之后如果有服务的消费者需要某个服务的时候，就会向注册中心请求指定的服务信息，然后注册中心将对应的服务的具体信息传递给服务调用法，然后服务调用方再向服务提供方发起请求，收到之后服务调用方会将信息缓存到本地，下次有请求的时候直接从本地拉取信息。



## 配置中心的原理

在每个服务运行之前，会从配置中心的配置仓库中拉取对应的配置文件信息到本地服务，然后以这些配置项开启服务

配置中心：为了统一化配置管理

配置中心自动刷新：

- 配置中心一旦发小配置文件发生修改，就会触发配置中心服务端的刷新
- 服务端收到刷新请求之后就会将请求发送到spring cloud Bus总线
- spring bus会通知到其他连接到配置中心的客户端，通知客户端获取最新配置文件
- 客户端请求并获取最新配置文件，按照最新配置文件刷新本地的服务

