---
title: Plaxis_knowledges
author: lijiabao
date: 2020-12-07 15:22:25.315250400 +0800
category: plaxis_notebook
categories: plaxis_notebook
tags: plaxis_notebook
---
## plaxis学习笔记



### plaxis图形文件导出

在output程序中选择输出到文件会导出你当前视图中的显示内容并带有水印，还可以选择复制到剪切板，就将内容输送到剪切板下，只需要粘贴即可显示。

### 材料属性的设置：
土体材料属性设置的时候里面的大多参数是土力学中学过的参数，饱和重度和重度等，以及一些强度参数，还有渗流相关的参数，渗透系数x、y、z方向和其他的渗流相关参数。还有超固结比参数等等，都是土力学相关参数。其中的强度参数和材料力学相关，在后面的其他的一些结构和混凝土等都和材料力学有关，其中的大部分参数是从材料力学中衍生而来或者规范的参数。因此材料力学土力学和岩石力学在这个软件的应用中很重要，因此需要掌握。
*********

### 岩土体的材料模型
（material model）（stress-strain relationship）

土体岩体的力学行为可以以不同程度的精确度建立模型，例如Hooke's law of linear, isotropic elasticity被认为是最简单应用的应力应变关系，由于只包含变形模量E（`Young's modulus`）和泊松比v（`Poisson's ratio`）通常由于精度不足而难以捕捉岩土体的行为的关键特征内容。

摩尔库仑模型被认为是首选（`first-order`）的岩土体behaviour的模拟。

plaxis还提供一些高级的材料模型，这些模型考虑了一些特定的特征：`stress-dependency of stiffness`（刚度的应力依赖性），`strain-hardening/softening`（应变硬化和软化）， `memory of pre-consolidation`（预固结记忆性），`critical state`（临界状态）， `anisotropy`（各向异性）， `creep`（蠕变），膨胀`（swelling）``shrinkage`收缩。使用这些模型可是模拟更加接近实际情况，因此可以获得更加精确的结果。其中还有一个单独的土体测试界面，可以用来辅助获取相应模型的参数。`isotropic（各向同性的）`

#### 线弹性模型（linear elastic model）LE
线弹性模型是基于（各向同性的胡克定律）`Hooke's law of isotropoc elasticity`，包含了E（Young's modulus）弹性模量（岩土力学中，应力应变曲线的初始斜率为E~0~，对应50%强度的为E~50~，对于有很大线弹性范围的高度超固结粘土和岩石，使用E~0~符合实际，而对于砂土和接近正常固结的粘土，使用E~50~）和泊松比v（Possion's ratio）。

尽管线弹性模型并不适合模拟土体，可以用于模拟土体的坚硬介质stiff volumes，如混凝土墙壁（concrete wall）或者天然岩层（intact rock formation）主要用于模拟土体内部刚性结构的模拟

#### 摩尔库伦模型（Mohr-Coulomb model）MC
the linear elastic perfectly-plastic Mohr-Coulomb model（线弹性完全塑形摩尔库仑模型）有五个可输入的参数，E，v土体弹性参数。内摩擦角和凝聚力（土体塑形）以及（剪胀角）。

这个模型是soil-rock behaviour岩体性状的初步近似first-order approximation。建议在考虑问题的初步分析可以使用这个模型，对每一层近似为一个恒定刚度或者和深度成线性关系的刚度，由于使用恒定的刚度，计算往往相对更加快并且可以获得一个初步估计的变形。

#### 硬化土体模型（Hardening Soil model）HS
硬化土体模型是一个模拟土体行为的高级模型。对于摩尔库仑模型，通过摩擦角（friction angle）凝聚力（cohesion）和膨胀角（dilatancy angle）来描述应力的限定状态。但是，土体的刚度通过三个不同的刚度描述可以更准确：E~50~（triaxial loading stiffness），E~ur~（triaxial unloading stiffness）和E~oed~（oedometer loading stiffness）作为多种土体类型的 平均值，默认设为E~ur~≈3E~50~和E~oed~≈E~50~。但是软土和坚硬土往往可以设置其他的E~oed~/E~50~比值，用户可以自己设置。

和摩尔库伦模型不同的是硬化土体模型包含stress-dependecy of stiffness moduli，意味着所有的stiffness随着压力增加而增加。因此，所有的三个输入stiffness 和reference stress相关，通常take as 100kPa

除了上述的提到的参数之外，初始土体条件，如pre-consolidation在大部分土体变形问题起着关键作用，可以在initial stress generation考虑进来。

该模型使用摩擦硬化的塑性定义，属于双曲线模型，还用到了压缩硬化，用来模拟土体在初始压缩条件下发生的不可逆压缩。可以用来模拟砂土，砾石以及包含粘土和粉土等较软类型的土体性状。

#### 小应变硬化土体模型（Hardening Soil model with small-strain stiffness）HSsmall

是上一个模型的修改，比上个模型多考虑了小应变的土体刚度增量（increased stiffness of  soil at small strains）在小应变情况大多数土体比在工程应变情况（engineering strain levels）展示了更高的stiffness，而且这个刚度和应变不成线性关系。这种情况behaviour通过使用附加的应变历史参数strain-history和两个额外的材料参数G~0~^ref^（小应变剪切模量）和γ~0.7~（衰减到70%的小应变剪切模量）HSsmall模型的高级特点在working load conditions更明显，这个模型比HS模型提供更可靠的位移当使用dynamic application时还引入了hysterical material damping

#### 软土模型（Soft Soil model）

是一个Cam-Clay类型的模型，尤其meant for几乎正常固结的粘土类型土体的primary compression。尽管这个模型的模拟能力被HS模型superseded，但它更加适合模拟软弱土的压缩行为（初始压缩行为）

#### 软土蠕变模型（Soft Soil Creep model）SSC

硬化土体模型一般适合所有土体，但是它并未考虑viscous effects（creep，stress relaxing）蠕变和应力松弛。事实上，所有的土体都表现出蠕变且主压缩后面跟随一定的二次压缩。

后者主要出现在软土如normally consolidated clays，silts和peat。软土蠕变模型主要应用于settlement problems of foundation，enbankments等。对于卸载问题，在隧洞和其他开挖问题较常遇到，软土蠕变模型hardly supersededs 简单的摩尔库伦模型。对于HS模型，当使用软土蠕变模型时，合适的初始土层条件是必要的。还包含pre-consolidation stress数据作为包含effect of over-consolidation。注意：初始over-consolidation ratio同样决定了初始蠕变比creep rate

用于模拟与时间有关的软土性状


#### 节理岩石模型（Jointed Rock model）
这个模型是一个各向异性的弹塑性的模型（anisotropic elastic-plastic model）尤其适合模拟stratification（分层，层）岩体和特定的断层方向的岩层的behaviour效应。塑形plasticity只发生在三个剪切方向的最大剪切面。每个面有他自己的强度参数凝聚力和摩擦角。天然岩石被认为表现出拥有constant stiffness properties  E和v的完全弹性体。弹性降低性质可能会在分层的方向被定义

该模型可用来模拟成层或者节理岩体性状


#### 混凝土模型（concrete model）
这是一个用来模拟混凝土和shotcrete structures的高级弹塑性模型。他模拟了time-dependent strength和stiffness of concrete，strain hardening-softening in compression andtension以及creep and shrinkage。失效判据（failure criteria）包含了一个摩尔库伦屈服面（yield surface）for deviatoric loading（偏心荷载），这结合了Rankine yield surface in the tensile regime（抗拉强度）。混凝土模型布置了25个输入参数，但是其中大多数都可以来自standard uniaxial tensile and compression tests（标准单轴抗拉抗压试验）而且一般都是结构工程师熟悉的内容

#### 使用SoilTest facility去校准模型参数
SoilTest facility可以被用来检查材料模型的表现（performance）这些模型参数都是在良好的土体试验条件下和任意的应力应变条件获得的。用这个方式，可以很好的比较在真实实验数据下的模型响应并了解模型模拟的soil behaviour的准确性。但即使获取到了很好的匹配结果，仍有必要知道calibrated material models在实际运用时，结果和显示仍有一定差异。尽管如此，SoilTest facility仍可以帮助理解材料模型的有点和局限性以及模型参数的影响。

*********

### 材料模型的局限性
（limitation）

plaxis软件是用来模拟解决真实的岩土地质问题，土体模型是soil behaviour，模型参数是用来量化土体特征。尽管很努力的优化代码和土体模型，实际模拟也只是一个近似，不可避免的会有一些数学和代码错误，而且对于问题的模型化的专业程度，土体模型和局限性的理解，模型参数选择以及对于计算结果的可靠性的评定能力都很大的影响实际的准确性

#### 线弹性模型局限性

soil behaviour（土质，土体性状）基本是非线性的和irreversible。线弹性模型很难抓住土体的本质特征。但是该模型被认为可以模拟坚硬的大规模的结构或岩床岩层。

### 排水类型

注意固结和渗流计算中,排水取决于渗透系数. 下述内容只应用于塑性计算.
#### 排水
排水或者长期材料行为中,刚度和强度是定义为有效应力参数.
#### 不排水 A
不排水或者短期材料行为,采用有效刚度参数及有效强度参数. 水被自动赋予很大的体积模量,使土不可压缩, 同时计算(超)孔压(包括水位之上或之下).
#### 不排水 C
不排水或者短期材料行为,采用不排水刚度和强度参数. 超孔压的计算包含在总应力计算中,不单独进行计算.
#### 非多孔的
不会产生孔压的材料行为.


*********

### 软件的科学理论
plaxis基于的几个基础理论有：变形理论（deformation theory）地下水流理论（groundwater flow theory）、固结理论（consolidation theory）和动力学相关理论（dynamic）以及一些数值方法（numeric methods）
#### 变形理论

#### 地下水流理论

#### 固结理论

#### 动力学

#### 有限元的基础公式理论

#### 灵敏度分析和参数变化理论


**********

### 软件的介绍

#### 输入前处理

>平面应变模型，适用于断面(大致)均匀的几何形状，其中垂直于断面z-方向）一定长度上的应力状态和加载机制是相同的。z 轴方向上的位移和应变设为零。但是，完全考虑了z轴正应力。 
>轴对称模型，适用于径向断面（大致）均匀的圆形结构，加载机制围绕中心轴，设沿任意径向的变形和应力状态一致。注意：轴对称问题的 x坐标表示半径，y坐标对应于对称轴线。不能使用负x坐标值。 
>选择平面应变或轴对称，意味着二维有限元模型的每个节点，只具备 2个平移自由度（即x-和y-方向）。 

>6节点或15节点三角形单元，都可以用来模拟土层和其它块体。默认单元为15节点三角形单元。该单元提供4阶位移插值，数值积分采用12个高斯点（应力点）。6节点三角形单元的插值为2阶，数值积分采用3个高斯点。结构单元和界面单元类型将自动和土单元类型相匹配。
>15节点三角形是一种非常精确的单元，对各类问题能得出精度很高的应力计算结果，比如不可压缩性土体破坏性能的计算。使用15节点三角形单元需要较大的内存，计算和运行相对较慢。因而，必要时也可以使用一个更简单的单元类型。
>6 节点三角形单元具有相当的精度。标准变形分析时，如果单元划分够密，可以得出理想的计算结果。然而，在使用轴对称模型时，或可能发生破坏的情况下——比如计算承载力或使用 phi-c折减法进行安全性分析——要特别小心。使用 6 个节点三角形单元，计算所得的破坏荷载和安全系数一般会偏大。这时，宜使用 15个节点三角形单元。
>一个 15 节点三角形单元可以看成是 4 个 6 节点三角形单元的组合，因为节点总数和应力点总数相等。然而，15 节点三角形单元比 4 个 6 节点三角形单元的组合功能更强大。 

##### **几何模型：**
几何组件类型和属性：
（几何组件的选择工具再按住shift选择可以将类型相同的几何组件）

>**点和线**：鼠标点击直线和点选项，然后就可鼠标点击或者命令行输入坐标进行绘制，如果指针附近有几何点，不会新建点。需要不再连续汇点成线右键鼠标点击即可取消绘制。如果要在线上新建点，捕捉到该直线新建点即可，直线会自动分割成两条直线。删除点通过选择点之后按删除键。如果删除点是两直线以上的直线交点，会同时删除这些直线。

>每执行一步绘图操作，程序会判断是否能够形成类组，**类组是由不同的几何线围成的封闭图形**。判断出来的类组会用淡的阴影表示，可以给每一个类组定义材料性质用来模拟几何图形相应部位土的性状。**类组在网格生成时会被分割为土单元。**

>**板**：板是用来模拟地层中的细长型结构对象，具有相当的抗弯刚度（弯曲刚度）和轴向刚度。板可以用来模拟沿z轴方向延伸的挡土墙、板、壳体和衬砌的影响。（蓝线表示）
>
>板单元的创建和生成线的方法类似，生成板时，相应几何线也同时生成。板的材料性质包含在材料数据组内。最重要的参数时抗弯刚度EI和轴向刚度EA。有了着两参数可以计算板的等效厚度d~eq~=sqrt(12\*EI/ES)。**在分步施工作为荷载输入的计算阶段，板可以被激活或者关闭**

>**土工格构**：是具有轴向刚度而无弯曲刚度的细长型结构。土工格构只能承受压力不能承受拉力。该对象一般用于模拟土体的加固作用。土工格构生成和板类似，土工格构的唯一材料性质是弹性法向刚度EA，在材料库中定义。
>
>**在计算阶段把分布施工作为荷载输入，可以激活或关闭土工格构**
>**和点对点锚杆相组合的土工格构可以用来模拟底层锚杆**。这种组合情况，土工格构模拟锚杆的锚固段，点对点锚杆模拟锚杆的自由段。

>**界面**：每一个界面都有自己设定的虚拟厚度，用来定义材料性质的家乡尺寸。虚拟厚度越大，产生的弹性变形越大。一般假定界面单元的弹性变形非常小，因而虚拟厚度也比较小。而如果虚拟厚度太小，可能出现数值病态，虚拟厚度等于虚拟厚度因子乘以平均单元尺寸，平均单元尺寸取决于网格生成的整体粗熟度设置。他的大小可以通过输出程序的一般信息窗口获取。虚拟厚度的因子默认值设置为0.1。双击几何线，可以在选择对话框中修改虚拟厚度因子的值，如果界面单元受到极大的正应力作用，就有可能需要减少虚拟厚度因子取值。
>
>界面新建的方法：类似于几何线，界面用几何线右侧的虚线表示。几何线两侧都可布置界面。利用界面可以研究结构对象（挡土墙、板、土工格构等）和周围土体的相互作用，可以使用加号和减号标注几何线可能出现的两个界面，没有意义不影响计算，只是为了区别界面
>
>应用界面的典型情况：模拟板桩墙和土体之间的相互作用（介于光滑和完全粗糙的表面）。相互作用的糙率通过给定界面选取合适的界面强度折减因子（R~inter~）的值来模拟。该因子将界面强度（挡土墙摩擦和内聚力）和土体强度（摩擦角和内聚力）相互联系在一起。除了R~inter~确定，还可和土体强度参数（土和界面的材料数据组中设定）一同确定。**计算阶段把分布施工作为荷载输入，可以激活或者关闭界面**

>**点对点锚杆**：用两点间的一根弹簧来模拟的。通过几何子菜单或在工具栏里点击相应的按钮，可以选择这类锚杆。不建议在需要布置点对点锚杆的位置绘制一条几何线。点对点锚杆的端点必须和几何线相连，但不一定连接到现有的几何点。新建点对点锚杆和新建几何线的方法类似，但和新建其他结构对象不同，生成点对点锚杆时不会生成相应的几何线，因此，点对点锚杆不会分割类组也不会生成新类组。
>
> 一个点对点锚杆用一个常轴向刚度的弹簧来模拟的，它具有两个节点。该单元既可受拉也可受压，最大拉力和压力受破坏荷载的限制。属性可以在锚杆的材料数据库中输入。计算阶段把分布施工作为荷载输入，可以激活或者关闭点对点锚杆或者施加预应力

> **锚定杆**：是用一端固定的弹簧来模拟的。应用锚定杆可以模拟板桩墙支撑（或支柱）。锚定杆必须总是和现有的几何线相连，但不一定不一定必须连接到现有几何点位置。锚定杆用一个转动某一角度的T表示。T长度时任意的，并不具有任何物理意义。默认情况下，锚定杆位于正x的方向，即在x，y平面内的转角为零，双击图形T的中部，弹出锚杆属性窗口，可以修改锚杆x，y平面的方位角。定义该角正向为逆时针方向，即由正x转向y方向，在属性窗口可以输入锚杆的等效长度，等效长度为连接点到假想唯一为零的锚杆地段的距离。
> 
>锚定杆是一个具有一个节点的弹性弹簧单元，其弹簧刚度（轴向刚度）为定值锚杆的另一端是固定的。这些属性可以在锚杆的材料数据库输入。计算阶段可将分布施工作为荷载输入，可以激活或者关闭锚定杆或者施加预应力。

>**隧道**：可以新建几何模型里面的圆形和非圆形的隧道断面。隧道断面由直线和弧线组成，又是附带衬砌和界面。隧道断面可以作为一个对象存储在硬盘上（扩展为.TNL文件）能用在其他工程项目上。
>
>隧洞设计器：
>
>隧道种类：无、钻孔隧道或NATM隧道

##### **荷载和边界条件**
>指定位移：为了控制某些点的位移而强加于模型的特殊条件。
>
>约束：大小为零的指定位移即为约束。既可应用于几何线也可应用于几何点，在荷载子菜单可以选中约束。几何模型中区分水平约束（u~x~=0）和竖直约束（u~y~=0）。还可选择二者组合（u~x~=u~y~=0），即总约束
>
>标准固定边界：
>
>分布荷载：分布荷载的输入值为单位面积上的力，包括x和y两个方向分量，默认垂直边界的单位压力。激活的指定位移优先于分布荷载
>
>集中荷载：实际上是平面外单位宽度上的线荷载，实际情况计算力的输入值，实际的集中荷载必须除以2Π，才能得到对称模型中心的力的输入值。如果几何图形同时施加指定位移和集中荷载，计算过程中激活状态的指定位移优先于集中荷载，用不着在全约束线段上添加集中荷载。如果只有一个位移方向时 预加的，其他方向是自由的，就可在自由位移方向施加集中荷载。
>
>转动约束：用来固定板绕z轴的转动自由度。
>
>排水线：描述几何模型内部的（超）孔压为零的线，和固结分析或地下水渗流计算有关。
>
>排水点：描述的是用来从该处土体抽取某个特定流量，或把这个流量由该点位置注入到土体当中，该选项之和地下水渗流计算有关。

##### **材料数据库**：

岩土和结构的材料性质参数，存储在材料数据组中。有四类：土和界面材料组、板材料组、土工格构材料组和锚杆材料组，所有数据存储在材料数据库里。从材料数据库可将有关数据分配到几何模型的岩土类组，或者分配给相应的结构对象。

> 材料数据组的数据库：有现有工程项目数据库和全局数据库。
>
> 著名的摩尔-库伦模型，是实际岩土性状的一阶近似。该理想塑形模型要用到5个基本输入参数：弹性模量E，泊松比v，内聚力c，摩擦角和剪胀角。由于岩土工程师一般熟悉以上5个参数，而又很少可以得到其他岩土参数有关的数据，故主要集中于该基本岩土模型上。当然也有高级岩土模型。
> 模型参数和实际岩土性状的关系：由标准三轴排水实验得出的典型应力-应变曲线（下图），可以理解上诉5个基本模型参数。试验时首先对材料施加各向相同的围压σ~3~，保证径向压力不变的同时，增加轴向应力σ~1~。在加载的第二阶段，土工材料会表现出下图a的趋势。体积增加的趋势尤其反映在砂土中，这在岩石试验中也经常可以观察到。b是对实验结果理想化后的情形。表示了5个基本参数的含义和影响，注意：==为模拟体积不可逆增加的情形需要用到剪胀角==

![pic](%E6%91%A9%E5%B0%94%E5%BA%93%E4%BC%A6%E7%AE%80%E5%8C%96%E6%A8%A1%E5%9E%8B.png)

##### **材料模型**：
![](%E6%A8%A1%E5%9E%8B%E4%BB%8B%E7%BB%8D1.png)
![](%E6%A8%A1%E5%9E%8B%E4%BB%8B%E7%BB%8D2.png)

##### **材料性状种类-材料类型**：
原则上讲，plaxis的所有模型参数用来描述有效的土体响应，即：土骨架有关的应力和应变之间的关系。岩土的重要特点是存在孔隙水，孔压显著影响土体的响应，为了能够在土体响应里考虑谁-骨架的相互作用，plaxis提供三种性状：
![](%E6%9D%90%E6%96%99%E6%80%A7%E7%8A%B61.png)
![](%E6%9D%90%E6%96%99%E6%80%A7%E7%8A%B62.png)

##### 基本步骤
1. 新建项目，设置项目名称、选择项目的模型和单元情况（是平面应变还是轴对称，是15节点还是6节点）和项目几何模型的尺寸（尺寸要能够容纳新建的几何模型，如果发现不能容纳，在文件子菜单项目属性可以修改）

2. 输入程序界面的组成：（有五个tabsheet界面，用来选择不同步骤下几何模型绘制、设置和激活等步骤。前两个是用来设定模型情况的：1. 土界面用来绘制钻孔、设置土层材料和土层地下水等信息的界面（可导入土层模型）2.  结构界面用来绘制工程中特定结构或者模拟特定结构的单元的，绘制特定的单元之后可在选择对象浏览器中设置其中的一些属性和才来特性并分配到相应结构单元上，如果土层在这个阶段绘制，需使用土多边形按钮将绘制的闭合图形设置为土层，才能设置相应的土层材料。后三个tabsheet界面用来计算处理模型的：3. 网格界面是用来生成有限元网格的，在生成相应的有限元网格时可以设置单元分布密度（等级越高计算时间越长，默认中等），可以加密处理或者粗糙处理，当然也可以局部细化或者粗糙处理，在这个界面还可以选取之后绘制曲线的点单元（设置的时输出程序曲线管理器中绘制曲线的点）。网格处理好之后可以查看网格划分情况）。4. 渗流水力条件界面：用来设置地下水水位和地下水边界以及特定类组设定为干即无水力条件的类组。5. 分布施工阶段：在这个界面，可以设置不同的施工阶段并激活不同的结构单元，设定好特定阶段并且相应的结构激活好之后即可进行计算，计算完毕之后就可以去输出程序查看相应的变形、受力、曲线等，并对其进行相应的分析）
3. 为了后续有限元模型的生成，首先需要新建几何模型，用来表示拟分析的问题。几何模型由点线和类组构成，点和线用户输入，类组程序生成。几何模型还包含有一些结构对象和特殊条件，这些特殊条件和结构用来模型隧洞衬砌、挡土墙、板、土-结构之间的相互作用和荷载。

3. 绘制几何模型时一般先绘制总体的模型几何轮廓。此外，材料层、结构物施工分区线、荷载、边界条件也可以定义设置。几何模型不仅要包含初始条件，还要包括不同计算阶段的一些状况。

4. 几何模型建立好后，就可以定义材料参数的数据组，需要定义的材料属性由土层参数，各类结构的参数，建立好之后将他们分配到对应的几何组件上取（分配方式有三种：1. 鼠标左键按住材料属性框中的材料拖到需要分配的类组上。2. 双击需要分配属性的类组，在弹出的对象浏览器中选取对应的材料。3. 鼠标右键单击需要分配的类组单元，选择对应的材料即可）。
5. 在上述的步骤进行完毕后就可以开始生成有限元的网格单元了。
6. 有限元的网格单元生成后，就可以定义初始水力条件和初始的应力条件
7. 初始条件定义好后，就可以准备开始计算了。
8. 工程实践中，要把一个项目分成几个项目阶段。plaxis中计算也分为好几个计算工序：如在某个阶段激活某个特定的荷载、模拟一个施工阶段、引入一个固结时段、计算安全系数等等。每个计算工序往往是分布计算的，分布计算是因为土的非线性性状要求分布加载（荷载分步），大多数情况还是只要设定计算工序末要达到的荷载情况就可以了。plaxis程序会自动对加载过程进行适当的分步。（plaxis程序允许等到一个工序计算完成以后再定义一个新的计算工序，所以不必在计算过程开始以前就定义好所有的计算工序）
9. 再插入和删除计算工序的时候需要留意：下一个计算工序的起始条件会发生变化，必须手动输入的方法对它加以说明。通常在工序列表的结尾添加工序定义一个新的工序，当然也可以在工序之间插入新的工序，在需要添加工序的行插入光标点击插入。通常新工序的计算起点是列表里它前面的那个工序的就算结果，前一个工序的工序号在新工序的起始工序号里面标出。新工序里面激活的类组、结构对象、荷载、水力条件和乘子采用的是前一个工序的状态。定义插入的工序的方法类似于在工序列表的末尾定义新工序的方法，在本来前后相连的两个工序之间插入新的工序之后，原先的下一个工序会保留它原有的起始工序号，不会根据插入的工序自动调整。如果希望新插入的工序变为下一个工序的计算起点，需要手动修改一般标签页里面的起始工序号参数，此时原有的下一个工序的起始条件改变了，因此需要对其进行完全的重新定义，可能对后开的工序产生影响，因此，尽量不要插入工序。删除计算工序时，应当检查这个要删除的工序被哪些工序的起始工序号所引用。确认删除后，所有引用的被删除工序号的工序都会自动的做出相应修改，将起始工序号指向删除工序之前的工序。尽管如此，还是需要重新定义以这些修改了的工序。因此工序数量多的时候一定要事先规划号具体的工序，不要出现插入和删除的操作，不然会有点麻烦！

**********

### 大致的工作路径
1. 了解工程背景及模型
> 边坡的岩性，边坡的剖面状况，坡面治理的情况，软弱结构面的位置，坡面施工状况
分析要点：
> 1. 岩质边坡的软弱结构面是一个界面单元，它具有单独的结构面属性，该处用单独的材料来模拟
> 2. 支护结构情况：锚杆的自由端和锚固段位置和长度，锚杆格构梁的位置布置（喷射混凝土面层，在2d下可以简化成板来模拟），抗滑桩的位置和布置
> 3. 材料参数：岩质边坡是具有一定抗拉强度的，软肉结构面性质与土类似，无抗拉强度
2. 模型创建和网格划分
3. 成果形成并查看结果
> 1. 稳定性分析——安全系数的计算研究
> 2. 曲线管理器：位移安全系数曲线
> 3. 位移增量
> 4. 结构内力


**********

### 具体工作步骤
1. 导入模型：可以通过`dwg`，`csv`, 有分隔符的`txt`， `dxf`，`geo`，`sti`文件导入。位置在土的导入土层选项。利用 钻孔创建土层的时候，可能不同钻孔的上下边界不一致，就可以在钻孔设置里面设置，这样就可以设置不一样的土层厚度或者定义非水平的土层同样也可设置没有厚度的层。钻孔土层设置遵循的是从上至下的创建方式。还可以添加钻孔，钻孔的添加在修改土层界面的钻孔按钮的子菜单中，点击添加就可添加相应x位置的钻孔。土层还可以通过结构里面的创建土多边形功能进行创建。（如果模型属于对称模型，可只分析一半模型）

2. 土层属性的设置有三种方法：1. 点击材料按钮，在其中弹出的材料设置窗口就可对添加土层并设置相应的图层属性，设置完成后就可以拖拽到相应的添加该图层的类组中。2. 在修改土层界面的材料按钮就可以进行材料设置。3. 右键单击土层，选择土菜单中的材料设置也可进行设置。相应的材料属性设置成功之后，就可打开材料窗口，拖拽相应的材料到特定结构或者土层即可。土层的属性设置时，有一般、参数、地下水、热、界面和初始条件六个设置页面，不同的土体模型其可设置的参数还不一样。材料模型：线弹性、摩尔库伦、土体硬化、小应变土体硬化、软土、软土蠕变、节理岩体等，还可以用户自定义。

3. 除了土层，还需定义一下相应的地下水条件（在修改土层可以进行设置，在第四个tabsheet也可进行设置）许多情况可以忽略地下水流并且稳定孔压或多或少可以通过土层研究数据得到。但有时，在水流发生时并不清楚孔压分布，为了产生孔压还需进行地下水流计算。水条件的设置在修改土层的水tabsheet中的下拉列表进行修改，可选参数如下：土还有一个初始条件，这个设置在修改土层界面的初始条件菜单中，可以设置为自动也可选择手动输入。还有预固结设置，也在修改土层界面，有从材料和从钻孔两个选项。

   ![](%E6%B0%B4%E6%9D%A1%E4%BB%B6%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%8F%AF%E9%80%89%E5%8F%82%E6%95%B0.png)

4. 土层的划分设置可以通过导入土层选项进行导入，可选的导入文件格式有：txt，dxf，csv，geo，sti，stp等。导入文件之后有：尺寸的设置和是否保持原有比例、选择导入的对象类型（点、线、多边形）设置全局坐标的偏移设置以及展示图形的边界坐标设置。导入之后，需要导入土层的地层和结构，首先需要使用图多边形去进行选取绘制，然后再将相应的性质的土材料拖拽到设定的土多边形即可。

5. 场地响应分析：首先需要设置乘数因子：位移乘子和荷载乘子。然后就可以进行计算。对于结构的动态研究来说，场地响应分析是一个有必要的预备研究，因为结构的地震响应受到支撑土层的岩土参数的影响。在修改土层界面地下`site response`按钮进行设置分析。

6. 按工程概况将支护结构绘制到模型中（抗滑桩和格构梁和喷护可用板来模拟）

7. 结构模式下的选择工具、选择多个对象工具用来选取结构土层对象的，阵列工具是用来复制选中的对象，以环形或者平移的类型来复制选中对象。

  8. 点和线是基础的绘制几何模型的输入对象，绘制的线如果没有界面包裹，并不会影响实际情况，一般有些需要绘制这样的线来更好的区分图形情况

  9. 土多边形是用来绘制特定封闭曲线的土层单元的，有（绘制土多边形，绘制土矩形，沿等高线绘制，切割土多边形（将已有的土多边形切割出子土层），添加土多边形点等）。

  10. 特征分配到存在的几何对象：分配这些加强结构的方式：1. 边栏的button选取绘制。2. 把特征分配到已有的几何对象上。3.使用命令行的方法。
      ![](%E5%8F%AF%E5%88%86%E9%85%8D%E5%8A%A0%E5%BC%BA%E7%BB%93%E6%9E%84%E7%9A%84%E5%87%A0%E4%BD%95%E5%AF%B9%E8%B1%A1.png)

  11. 合并对象：（通常情况，一个点只能有一个点，两个点只能有一个线）例如创建点对点锚杆时，命令行的方法并不会自动合并多余的几何对象（1. 需要鼠标右击在模型浏览器的几何对象、点或者线，然后选择合并相同的对象，或者命令行输入命令：`mergeequivalents geometry`，`Mergeequirvalents geomerty 0.2`这行命令是将不在同一位置但是在小于0.2范围的相似对象合并为一个。），第一种会自动合并多余的线，第二种并不会创建新的 。

  12. snap捕捉：有捕捉对象和网格两种。在绘图区下面可以进行设置。

  13. group组对象：选中需要合并的对象，右击选择组即可合并到一组，在模型浏览器可以看到合并的组信息，group允许一次修改组内对象的共同属性

  14. 导入几何模型：几何模型和土层信息可以通过导入几何模型按钮进行文件选择然后导入，类似土层导入。

      荷载：通过相应的荷载按钮选项进行选择、设置和放置。有点荷载和线荷载。每种荷载又包含：静态荷载和动荷载，选项和设置可在选择浏览器中进行设置配置。点荷载的输入值是指：平面外方向的单位宽度的力，默认值是-y方向的1单元的力。线荷载：输入值是平面外的单位长度上的力，默认是-y方向的单位力。

      指定位移荷载：施加于模型的可以控制特定位置的位移的特殊条件，可以通过在已有的几何对象上右键创建，在计算时优先于荷载。选择对象浏览器包含：静态和动态的，类似于荷载里的。有：点位移、线位移和线收缩（其中的动态荷载的设置是通过输入值和一个乘子来详细指定的，每个时间阶time step的实际动态值等于输入值乘以乘子multiplier）
      ![](%E7%BA%BF%E8%8D%B7%E8%BD%BD%E7%9A%84%E5%88%86%E5%B8%83%E9%80%89%E9%A1%B9.png)

15. 结构单元：锚定杆、板、土工格构、嵌入式排梁、界面和点对点锚杆。1.锚定杆可以以简单的方法模拟piles桩，而不考虑piles-soil相互作用。绘制锚定杆结构时确定锚定杆的位置以及等效长度（等效长度在选择对象浏览器中可以设置），并设置锚定杆的材料属性，即可完成锚定杆的设置配置。2. 点对点锚杆可以用来承受拉力和压力。3. 嵌入式排梁：由于piles（桩）、rock bolts（锚杆）、ground anchors（地锚，锚钉）周围的应力状态和变形模式都是三维的，2d模型不能很好的实际模拟这种结构，2d的嵌入式排梁只是一种简化的方法在2d平面应力模型来模拟三维情况。可以用来模拟传递荷载到周围岩土体的长细结构单元，嵌入式排梁需要的信息有单桩、锚杆或者groutbody的性质以及平面外方向的spacing。4. 板的设置和配置首先确定板的位置和范围，绘制好结构后就可设置板材料的属性，然后再设置板的界面，右击板选择界面绘制（正向界面和反向界面，正负号并不会影响计算）


16. 由于软件并不能识别曲线，cad画模型的软弱面的时候需要注意使用多段线绘制直线，软弱结构面用双向界面来模拟
17. 待所有几何模型导入完毕后先施加需要的约束和荷载，然后就可以导入材料属性了。材料属性可以先做一个属性文件再放入项目文件里面就可以了。然后将对应的材料属性拉到对应的位置处就好，或者在对应的结构或者土体上右击选择材也可。
10. 在相应的几何模型设定完毕，对应的材料属性和结构配置好之后，就可以确定区域进行网格的划分
     注意：模型中的线只要没在线的两侧加涂层界面 划分新的土层单元就不会将这个线看成是一个分界线
19. 网格划分完成之后就可以进行稳定系数的计算，首先进行不同阶段的选取，选取了不同阶段之后，需要去激活相应的结构或者土体（激活相应的土体或者结构之前，需要对他们进行一些设置和配置，在选择对象浏览器和模型浏览器中可以进行相应的设置配置）在不同的阶段里进行相应阶段的分析计算。初始阶段如果选择K~0~过程，一定记得需要设置，记得需要设置==cc ==参数的值，表示施加的重力占总重力的比例关系。
20. 在所有阶段划分计算进行完成之后，在输出程序点击查看结构便可以将结果输出，然后就可以查看相应阶段应力变形和安全系数等内容，然后就可以进行对应的分析和研究。
21. 查看的内容有变形，内力以及安全系数的变化情况（曲线管理器查看安全系数变化，可以对曲线进行坐标轴、图例、线型和颜色的设置）

********

### 重点关注
#### 重要内容
最重要的便是专业知识过硬，能够分析具体工况转为plaxis可以模拟的条件，然后找寻自己需要的各种参数并进行自己的模拟。
plaxis软件学习的最重要的内容应该是：将实际工况转换为plaxis可以模拟的条件。
1. 分析具体工况，将工况内的一些条件转换为plaxis中的土层和结构
2. 确定划分网格区域的具体精度要求选取合适的网格精度
3. 确定好自己需要研究的不同阶段，并设置好各阶段的具体条件

#### 工况模拟的一些要点
1. 墙、喷射的混凝土面层可以定义为plaxis结构中的板
2. 土层确定好之后就需要去找寻自己需要的相关参数并设置土层的材料属性。
3. 结构的材料属性也是如此，根据工况确定好具体的结构之后就需要找出相关结构的材料属性并设置好
4. 还需要注意的是有些结构在分阶段施工中需要设置特定的条件，这些特定条件一般在选择对象浏览器，对象浏览器和模型浏览器等分界面进行设置
5. 分阶段是施工过程可以选择自己定义的不同阶段去进行结构和土层的激活冻结等操作，根据具体情况需要去进行操作，相应的特定条件设置在这里也可以通过选择对象浏览器和模型浏览器进行修改设定。具体条件应用场景需要自己阅读手册去进一步理解掌握。
6. 阶段定义完成之后可进行计算，计算完毕查看计算结果，计算结果查看的种类多样，需要根据实际需求去选择自己需要展示的结果。结果分析其实是plaxis应用中最重要的部分，后期自己需要通过多阅读相关论文积累经验提升自己的分析能力。

#### 实际应用的工况模拟结构条件等的选取
1. 实际板的界面或者其他的一些具体界面，可以设置具体界面的材料，通过拖拽土层材料到界面单元的点即可。
2. 2D中怎么模拟桩：由于桩本身是一个三维的结构，怎么在2D模拟是很重要的。
- 板单元+界面：**可能性**：可定义轴向刚度和抗弯刚度，得到桩身的内力，界面单元来模拟桩-土之间的相互作用。**局限性**：土无法穿过板（无间距），使用界面单元会产生不真实的（连续）剪切面。
- 点间锚杆单元：**可能性**：可定义轴向刚度，得到桩身轴力，土可以穿过点间锚杆（有间距）。**局限性**：无法模拟桩-土相互作用，无法定义抗弯刚度
- 2D排桩单元：综合上述两种方法的优势，可定义轴向刚度和抗弯刚度，得到桩身内力，使用特殊界面模拟桩-土之间相互作用，且不会产生不真实的剪切面，土可以穿过排桩
3. 锚杆的自由端通过点对点锚杆模拟，嵌固端通过嵌固桩(或者土工格构)模拟，并设置好相应的结构材料属性，嵌固桩的连接方式需要看情况设置，有必要设置顶部于下层土单元的连接为自由，和锚杆的连接自动生成。荷载在创建完成之后在选择对象浏览器可以指定位移分布形式和值的大小，不同结构可设置的属性条件有差异。在模型浏览器的变形菜单中可以设置相应的边界条件，一般情况下就选择默认边界条件和约束（底部是完全固定边界条件（位移为0），垂直边界约束水平向（ux=0，uy=自由））在模型浏览器（根据设置的结构不同显示内容不同）菜单选项中可以设置许多的属性条件，根据实际工况和要求选择。在分布施工界面，模型浏览器有一个模型条件，可以设定整个模型的众多条件（1. 气候2. 变形（变形边界条件）3. 动力学4.场地应力（实际场地条件）5.地下水（设置边界）6.precipitation降水（降水量等的设置）7. pseudostatic（设置地震条件，伪稳定）8.thermalflow（热流条件）9.water（设置全局水位条件））

*********

### 案例一实操步骤
1. 创建项目，创建项目时设置项目的范围。如果设置出错后续可以通过文件的项目属性进行更改
2. 根据实际工况可要求设置土层和钻孔信息，图层设置有许多的参数需要查看规范或者根据已有资料来进行设置。
3. 设置好了土层之后就可以绘制相应的模型图，并将相应的土层通过拖拉的方式绘制上去。
4. 土层绘制之后就进行结构的绘制放置。
5. 结构绘制完毕后就可以进行相应的网格划分，网格划分通过生成网格按钮进行划分，划分网格默认中等，需要更高精度单元可以进行网格细化。然后就可以通过点击查看网格查看相应的网格划分情况
6. 网格划分完毕之后就可以进行渗流水压力等工况的设置
7. 设置渗流情况之后就可以进行分阶段施工了，通过点击分布施工进入，然后点击添加阶段添加需要添加的阶段并进行相应的设置。设置完一个阶段之后就可以进行计算。带到每个阶段都计算完毕后就可以进入到输出的plaxis2d软件界面进行查看和分析了。
8. 可以查看的内容有变形，应力，以及曲线控制器查看相应的曲线变化情况。曲线管理器首先需要选择查看曲线的点，然后才能看到相应的曲线信息。

*********

### 水下基坑开挖操作步骤
前处理阶段：
1. 首先分析需要分析的问题，确定工程的实际工况、结构的种类和分布情况。将实际工程的工况结构等简化模型到二维情况（可直接再CAD绘制出简化的模型，然后保存为dxf文件留待后续plaxis导入），在本例中设置边界为（-20 30）（0 65）

2. 创建模型，新建项目，设定名称并按实际工程情况设定模型边界，选择模型的类型和单元（15节点或者6节点），也可设置自己需要的相应单位（unit），设置完成后就可进入土层设置界面

3. 土层设置可以通过钻孔来设置，也可在结构界面绘制相应的土多边形来进行土层绘制设置。点击钻孔命令并点击需要设置钻孔的位置点击，在弹出的修改土层界面可以设置土层的信息，也可设置水头的信息。设置好土层的材料属性就可将他们分配给特定的位置。土层设置完毕就可切换到结构界面绘制结构单元了.本例中有两个土层：砂土（土体硬化）和粘土（软土）==注意：当强度下拉菜单选中刚性选项，界面的强度和土的强度一样（Rinter-=1.0）如果 Rinter<1.0，同时减小了界面的强度和刚度。 不使用界面的默认值，可以在选择对象浏览器材料模式下拉菜单中选择合适的材料数据组直接指定。==

4. 本例中需要绘制的结构有锚定杆、板、界面、线荷载。在工程要求的部位绘制相应的结构单元并设置需求的参数即可。==提示：通常情况下，在一点只能有一个点，两点之间只能有一条线。重合的点或者线会自动减小为一个点或者线。更多信息查看参考手册的相关章节==。

5. 设置锚定杆的等效长度时：==提示：等效长度是锚定杆坐标位置和沿锚定杆方向位移为零的点的距离。==

6. 绘制界面单元时：==提示：为了区别线两面指定的界面，需要添加正号负号。这个符号没有任何物理意义，对结果也没有任何影响。==

7. 为了模拟开挖的不同阶段，需要对挖方土进行分割设置：利用直线单元分割，程序会自动分辨出类组。

8. 结构土层设置完毕后，进入网格划分阶段，选择网格划分按钮，选择默认的中等就好（当然也可细化或者糙化，如果有部分需要，还可局部细化或者糙化），点击查看网格划分，查看具体情况。划分好之后就可进入渗流条件界面进行设置，渗流条件设置基本上只要设置水位，如果有特殊需要才设置其他的参数。

9. 在以上的四个界面设置完毕之后就可以进入分布施工界面进行不同阶段的创建和相关结构的激活。（土层的挖方可以通过选择相应的挖方土层右击选择土再选择冻结即可）初始阶段默认创建好的，计算类型默认K0过程，确保所有土层激活，而其他所有的结构单元和荷载全部冻结。添加其他的阶段并激活相应阶段需要激活的结构或者土层即可。==提示：在 PLAXIS 中，当冻结土层时，孔隙水压力不会自动冻结。因此，开挖处仍然存在水压力，这样就可以模拟未降水开挖。==阶段设置配置好了之后就可以在输入界面选择一些较为明显的特征点好在之后选取绘制曲线的部位点。

10. 操作完毕之后就可以进行计算，点击计算等待计算完成，完成之后就可以点击查看结果查看计算后的变形、内力、结构的弯矩剪力（双击结构弹出显示轴力窗口选择弯矩即可）、地下水的一些参数以及曲线管理器中查看相关内容的曲线变化情况。

后处理分析：

1. ==提示：在输出窗口中，显示荷载、边界条件和指定位移可以通过几何菜单中对应的选项打开或关闭。==除了输出土位移和应力，还可查看结构内力。
2. 在变形菜单选择增量位移，视图显示位移增量的云图，该云图表示墙后土移动的机理。点击视图中不同的按钮可切换不同的图形样式。有矢量图以箭头形式展示增量位移的，箭头长度代表了增量位移的相对大小。
3. 选择应力菜单中的有效主应力选项，视图中显示每一个土单元的三个应力点的有效主应力，有效主应力既代表了方向又显示了该值的相对大小。==注意：如果选中了中主应力的方向选项，主应力的方向显示了基坑开挖底部一个大的被动区和内支撑后小的被动区==。曲线生成：打开工具菜单的曲线管理器窗口，新建一个图标，下拉菜单选中需要绘制的点，并选中需要绘制 曲线的内容，y选中项目，选中其中的相应的乘子，最后点击确定即可生成曲线。
4. 曲线显示了分步施工阶段。对于每一个阶段参数∑ 𝑀𝑠tage.从 0 到 1.最后一个阶段曲线的斜率逐渐减缓意味着塑性变形在增大。然而，计算结果表明，施工的最后阶段开挖过程是稳定的。

*********

### 软土地基上的路基建造
1. 输入创建地层地基等土层结构，设置好地下水位，设置好土层材料属性和地基材料属性
2. 生成网格
3. 定义需要分析的几个阶段并根据相应的阶段去激活相应的土层结构地下水位等内容。1. 初始阶段：需要冻结代表路基的土。初始水压力完全是静水压力，潜水位线位于要求的位置，此水位是在钻孔指定的水头高度。除了水位线的考虑，还需要设置模型的边界条件。初始时段，出了底部边界，其余的边界都是排水的，以便水能够自由流出边界条件和消散超孔压力。边界条件在模型条件里的地下水流子菜单选择设置   固结分析：固结分析考虑计算的时间因素，为了正确执行固结分析，需设置一个合适的时间步，如果时间步小于临界最小值可能导致应力波动。plaxis固结选项程序考虑了临界时间步，自动设置时间步选项。有三种方式：1. 包括几何模型的该改变效应，预定义时间的固结（分布施工）2. 固结直到几何模型的所有超孔压力减小到给定的最小值（最小孔隙水压力）。3. 固结直到指定的饱和度（固结度）在阶段设置的时候，计算类型可以选择设置，根据实际选择，荷载类型也可选择，按需要选取。计算类型有：固结，安全系数计算等
4. 设置完毕之后就进行计算